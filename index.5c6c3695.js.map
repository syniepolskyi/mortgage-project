{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["let banks = [\n  // {\n  //   id: \"435tr34wrt\",\n  //   name: \"Mono\",\n  //   interestRate: 5,\n  //   maxLoan: 500000,\n  //   minPayment: 1000,\n  //   loanTerm: 12,\n  // },\n  // {\n  //   id: \"asdfw342rew5\",\n  //   name: \"Privat\",\n  //   interestRate: 7,\n  //   maxLoan: 1000000,\n  //   minPayment: 5000,\n  //   loanTerm: 50,\n  // },\n];\n\nconst root = document.getElementById('root');\nconst banksContainer = document.createElement('div');\nconst loanInfoContainer = document.createElement('div');\nconst modalRef = document.getElementById('modal');\n\nbanksContainer.classList.add('banks-container');\nloanInfoContainer.classList.add('loan-info-container');\n\nroot.append(banksContainer, loanInfoContainer);\n\nconst addButton = document.createElement('button');\nconst listOfBank = document.createElement('ul');\n\naddButton.classList.add('create-bank-btn');\naddButton.textContent = 'Додати';\nconst cleanButton = document.createElement('button');\ncleanButton.classList.add('remove-all-banks-btn');\ncleanButton.textContent = 'Очистити';\nif (banks.length > 2) {\n  banksContainer.append(listOfBank, addButton, cleanButton);\n} else {\n  banksContainer.append(listOfBank, addButton);\n}\n\nfunction renderList() {\n  const itemOfBank = banks\n    .map((bank, index) => {\n      return `<li class=\"bank-item bank-item-container\" data-id = \"${bank.id}\"> \n              <span class=\"span-bank-id\">${index + 1}</span>\n              <span class=\"span-bank-name\">${bank.name}</span>\n              <button class=\"edit-bank-btn\"><i class=\"fa-solid fa-pencil\"></i></button>\n              <button class=\"remove-bank-btn\"><i class=\"fa-solid fa-xmark\"></i></button>\n          </li>`;\n    })\n    .join('');\n  listOfBank.innerHTML = itemOfBank;\n\n  // document\n  //   .querySelectorAll(`.edit-bank-btn`)\n  //   .forEach((e) => e.addEventListener(`click`, onEditClick));\n\n}\n\nrenderList();\n\nfunction renderModalMarkup() {\n  return `\n  <div class=\"backdrop\" data-modal>\n  <form class=\"form-backdrop\">\n    <button type=\"button\" class=\"close\" data-modal-close>\n      <i class=\"fa-solid fa-xmark\"></i>\n    </button>\n    <h3 class=\"form-title\">New bank</h3>\n    <div class=\"form-container\">\n      <div class=\"form-group\">\n        <label for=\"name\">name</label>\n        <input type=\"text\" name = \"name\" id=\"name\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"maxLoan\">Mortgage size, $: </label>\n        <input type=\"text\" name = \"maxLoan\" id=\"maxLoan\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"minPayment\">Minimum down payment, $: </label>\n        <input type=\"text\" name=\"minPayment\" id=\"minPayment\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"loanTerm\">Loan period, month: </label>\n        <input type=\"text\" name=\"loanTerm\" id=\"loanTerm\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"interestRate\">Invest rate, %: </label>\n        <input type=\"text\" name =\"interestRate\" id=\"interestRate\">\n      </div>\n      <div class=\"form-group submit-container\">\n        <button type=\"submit\" class=\"submit-btn\">Зберегти</button>\n      </div>\n    </div>\n  </form>\n</div>\n`;\n}\n\nconst bankNames = document.querySelectorAll('.bank-item-container');\n\nfunction onClearActives() {\n  const activeItems = document.querySelectorAll(\n    '.bank-item-container.bank-item-active'\n  );\n  activeItems.forEach(e => e.classList.remove('bank-item-active'));\n}\n\nfunction renderInfoMarkUp(bank) {\n  const bankInfoItem = ` \n    <ul >\n    <li class=\"loan-info-item\">\n      <div class=\"loan-info-key\">Bank</div>\n      <div class=\"loan-info-value\">${bank.name}</div>\n    </li>\n    <li class=\"loan-info-item\">\n      <div class=\"loan-info-key\">Mortgage size, $</div>\n      <div class=\"loan-info-value\">${bank.maxLoan}</div>\n    </li>\n    <li class=\"loan-info-item\">\n      <div class=\"loan-info-key\">Minimum down payment, $</div>\n      <div class=\"loan-info-value\">${bank.minPayment}</div>\n    </li>\n    <li class=\"loan-info-item\">\n      <div class=\"loan-info-key\">Loan period, month</div>\n      <div class=\"loan-info-value\">${bank.loanTerm}</div>\n    </li>\n        <li class=\"loan-info-item\">\n      <div class=\"loan-info-key\">Invest rate, %</div>\n      <div class=\"loan-info-value\">${bank.interestRate}</div>\n        </li>\n    </ul>\n`;\n  loanInfoContainer.innerHTML = bankInfoItem;\n}\n\nlistOfBank.addEventListener(\"click\", onListOfBankClick );\n\nfunction onListOfBankClick(e) {\n\n  if (e.target.nodeName === `UL`) {\n    return;\n  }\n  const itemBank = e.target.closest('.bank-item');\n  const itemId = itemBank.dataset.id;\n  const currentBank = banks.find(bank => bank.id === itemId);\n\n  if (e.target.closest(\".edit-bank-btn\")) {\n    onEditClick(e);\n  };\n\n  if (e.target.closest(\".remove-bank-btn\")) {\n\n    deleteBankItem(itemId);\n    if (itemBank.classList.contains('bank-item-active')) {\n      clearBankInfo();\n    }\n\n    renderList();\n    if (banks.length < 3) {\n      cleanButton.remove();\n    }\n\n    return;\n  }\n  \n  renderInfoMarkUp(currentBank);\n\n  onClearActives();\n  itemBank.classList.add(\"bank-item-active\");\n}\n\n\nfunction onEditClick(ev) {\n  const currentBank = banks.find(\n    el => el.id === ev.target.parentNode.dataset.id\n  );\n  onAddButtonClick();\n  console.log(currentBank);\n}\n\nfunction deleteBankItem(id) {\n  console.log(`del`);\n  banks = banks.filter(elem => elem.id !== id);\n}\n\nfunction clearBankInfo() {\n  loanInfoContainer.innerHTML = '';\n}\n\naddButton.addEventListener('click', onAddButtonClick);\ncleanButton.addEventListener('click', onClearBankList);\n\nfunction onAddButtonClick() {\n  modalRef.innerHTML = renderModalMarkup();\n  const closeModalBtn = modalRef.querySelector('.close');\n  closeModalBtn.addEventListener('click', onCloseModal);\n  const formBackdrop = document.querySelector('.form-backdrop');\n  formBackdrop.addEventListener('submit', onFormSubmit);\n}\n\nfunction onCloseModal() {\n  modalRef.innerHTML = '';\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const formData = new FormData(e.target);\n\n  const bank = {};\n\n  formData.forEach((value, key) => {\n    bank[key] = value;\n  });\n\n  bank.id = crypto.randomUUID();\n\n  banks.push(bank);\n  if (banks.length > 2) {\n    banksContainer.append(cleanButton);\n  }\n  renderList();\n  onCloseModal();\n}\n\nfunction onClearBankList() {\n  listOfBank.innerHTML = '';\n  loanInfoContainer.innerHTML = '<p>Немає інформації про банки</p>';\n  banks = [];\n  cleanButton.remove();\n  console.log('onClearBankList');\n}\n\n// function toggleModal() {\n//   const modalElem = document.querySelector(\"[data-modal]\");\n//   modalElem.classList.toggle(\"is-hidden\");\n// }\n\n// const closeModalElem = document.querySelector(\"[data-modal-close]\");\n// const createBankBtn = document.querySelector(\".create-bank-btn\");\n\n// closeModalElem.addEventListener(\"click\", toggleModal);\n// createBankBtn.addEventListener(\"click\", toggleModal);\n"],"names":["banks","root","document","getElementById","banksContainer","createElement","loanInfoContainer","modalRef","classList","add","append","addButton","listOfBank","textContent","cleanButton","renderList","itemOfBank","map","bank","index","concat","id","name","join","innerHTML","renderModalMarkup","length","bankNames","querySelectorAll","onClearActives","forEach","e","remove","renderInfoMarkUp","bankInfoItem","maxLoan","minPayment","loanTerm","interestRate","onListOfBankClick","target","nodeName","itemBank","closest","itemId","dataset","currentBank","find","onEditClick","deleteBankItem","contains","clearBankInfo","ev","el","parentNode","onAddButtonClick","console","log","filter","elem","querySelector","addEventListener","onCloseModal","onFormSubmit","preventDefault","formData","FormData","value","key","crypto","randomUUID","push","onClearBankList"],"version":3,"file":"index.5c6c3695.js.map"}