var banks=[],root=document.getElementById("root"),banksContainer=document.createElement("div"),loanInfoContainer=document.createElement("div"),modalRef=document.getElementById("modal");banksContainer.classList.add("banks-container"),loanInfoContainer.classList.add("loan-info-container"),root.append(banksContainer,loanInfoContainer);var addButton=document.createElement("button"),listOfBank=document.createElement("ul");addButton.classList.add("create-bank-btn"),addButton.textContent="Додати";var cleanButton=document.createElement("button");function renderList(){var n=banks.map((function(n,a){return'<li class="bank-item bank-item-container" data-id = "'.concat(n.id,'"> \n              <span class="span-bank-id">').concat(a+1,'</span>\n              <span class="span-bank-name">').concat(n.name,'</span>\n              <button class="edit-bank-btn"><i class="fa-solid fa-pencil"></i></button>\n              <button class="remove-bank-btn"><i class="fa-solid fa-xmark"></i></button>\n          </li>')})).join("");listOfBank.innerHTML=n}function renderModalMarkup(){return'\n  <div class="backdrop" data-modal>\n  <form class="form-backdrop">\n    <button type="button" class="close" data-modal-close>\n      <i class="fa-solid fa-xmark"></i>\n    </button>\n    <h3 class="form-title">New bank</h3>\n    <div class="form-container">\n      <div class="form-group">\n        <label for="name">name</label>\n        <input type="text" name = "name" id="name">\n      </div>\n      <div class="form-group">\n        <label for="maxLoan">Mortgage size, $: </label>\n        <input type="text" name = "maxLoan" id="maxLoan">\n      </div>\n      <div class="form-group">\n        <label for="minPayment">Minimum down payment, $: </label>\n        <input type="text" name="minPayment" id="minPayment">\n      </div>\n      <div class="form-group">\n        <label for="loanTerm">Loan period, month: </label>\n        <input type="text" name="loanTerm" id="loanTerm">\n      </div>\n      <div class="form-group">\n        <label for="interestRate">Invest rate, %: </label>\n        <input type="text" name ="interestRate" id="interestRate">\n      </div>\n      <div class="form-group submit-container">\n        <button type="submit" class="submit-btn">Зберегти</button>\n      </div>\n    </div>\n  </form>\n</div>\n'}cleanButton.classList.add("remove-all-banks-btn"),cleanButton.textContent="Очистити",banks.length>2?banksContainer.append(listOfBank,addButton,cleanButton):banksContainer.append(listOfBank,addButton),renderList();var bankNames=document.querySelectorAll(".bank-item-container");function onClearActives(){document.querySelectorAll(".bank-item-container.bank-item-active").forEach((function(n){return n.classList.remove("bank-item-active")}))}function renderInfoMarkUp(n){var a=' \n    <ul >\n    <li class="loan-info-item">\n      <div class="loan-info-key">Bank</div>\n      <div class="loan-info-value">'.concat(n.name,'</div>\n    </li>\n    <li class="loan-info-item">\n      <div class="loan-info-key">Mortgage size, $</div>\n      <div class="loan-info-value">').concat(n.maxLoan,'</div>\n    </li>\n    <li class="loan-info-item">\n      <div class="loan-info-key">Minimum down payment, $</div>\n      <div class="loan-info-value">').concat(n.minPayment,'</div>\n    </li>\n    <li class="loan-info-item">\n      <div class="loan-info-key">Loan period, month</div>\n      <div class="loan-info-value">').concat(n.loanTerm,'</div>\n    </li>\n        <li class="loan-info-item">\n      <div class="loan-info-key">Invest rate, %</div>\n      <div class="loan-info-value">').concat(n.interestRate,"</div>\n        </li>\n    </ul>\n");loanInfoContainer.innerHTML=a}function onListOfBankClick(n){if("UL"!==n.target.nodeName){var a=n.target.closest(".bank-item"),t=a.dataset.id,e=banks.find((function(n){return n.id===t}));if(n.target.closest(".edit-bank-btn")&&onEditClick(n),n.target.closest(".remove-bank-btn"))return deleteBankItem(t),a.classList.contains("bank-item-active")&&clearBankInfo(),renderList(),void(banks.length<3&&cleanButton.remove());renderInfoMarkUp(e),onClearActives(),a.classList.add("bank-item-active")}}function onEditClick(n){var a=banks.find((function(a){return a.id===n.target.parentNode.dataset.id}));onAddButtonClick(),console.log(a)}function deleteBankItem(n){console.log("del"),banks=banks.filter((function(a){return a.id!==n}))}function clearBankInfo(){loanInfoContainer.innerHTML=""}function onAddButtonClick(){modalRef.innerHTML=renderModalMarkup(),modalRef.querySelector(".close").addEventListener("click",onCloseModal),document.querySelector(".form-backdrop").addEventListener("submit",onFormSubmit)}function onCloseModal(){modalRef.innerHTML=""}function onFormSubmit(n){n.preventDefault();var a=new FormData(n.target),t={};a.forEach((function(n,a){t[a]=n})),t.id=crypto.randomUUID(),banks.push(t),banks.length>2&&banksContainer.append(cleanButton),renderList(),onCloseModal()}function onClearBankList(){listOfBank.innerHTML="",loanInfoContainer.innerHTML="<p>Немає інформації про банки</p>",banks=[],cleanButton.remove(),console.log("onClearBankList")}listOfBank.addEventListener("click",onListOfBankClick),addButton.addEventListener("click",onAddButtonClick),cleanButton.addEventListener("click",onClearBankList);
//# sourceMappingURL=index.5c6c3695.js.map
